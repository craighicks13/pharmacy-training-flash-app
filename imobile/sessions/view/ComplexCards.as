package imobile.sessions.view{	import flash.display.MovieClip;	import flash.events.Event;	import flash.text.TextField;		public class ComplexCards extends MovieClip	{		private var _zone:Object;		public var _zoneSelect:MovieClip;		private var _mustSelect:int;				public function ComplexCards()		{			zoneComboBoxSetup();			var zoneList:Array = [								  {label:"--\>Choose a Zone\<--",data:0},								  {label:"Zone 1",data:1},								  {label:"Zone 2",data:2},								  {label:"Zone 3",data:3},								  {label:"Zone 4",data:4},								  {label:"Zone 5",data:5},								  {label:"Zone 6",data:6},								  {label:"Zone 7",data:7},								  {label:"Zone 8",data:8},								  {label:"Zone 9",data:9},								  {label:"Zone 10",data:10},								  {label:"Zone 11",data:11},								  {label:"Zone 12",data:12},								  {label:"Zone 13",data:13},								  {label:"Zone 14",data:14},								  {label:"Zone 15",data:15},								  {label:"Zone 16",data:16},								  {label:"Zone 17",data:17},								  {label:"Zone 18",data:18},								  {label:"Zone 19",data:19},								  {label:"Zone 20",data:20}								 ];			populateComboBox(_zone,zoneList);		}				private function populateComboBox(cb:Object, list:Array):void		{			for(var num = 0; num < list.length; num++)			{				cb.addItem(list[num]);			}		}				private function zoneComboBoxSetup()		{			_zone = cb_zone;			_zone.rowCount = 11;			_zone.addEventListener("change", zoneSelected, false, 0, true);		}				private function zoneSelected(e:Event):void		{			removeGoListener();			if(_mustSelect)			{				if(_mustSelect == e.target.selectedItem.data)					setGoListener();				else					removeGoListener();			}			else if(e.target.selectedItem.data)				setGoListener();		}				private function setGoListener():void		{			CLICK_TO_GO.addEventListener("click", goToZone, false, 0, true);			dispatchEvent(new Event("ZONE_SELECTED"));		}				private function removeGoListener():void		{			try			{				CLICK_TO_GO.removeEventListener("click", goToZone);			}catch(e:*) { }		}				private function goToZone(e:Event):void		{			removeGoListener();			removeZoneClip();			_zoneSelect = new complex_card_zone_select();			_zoneSelect.zoneTitle = _zone.selectedLabel;			_zoneSelect.setZone = _zone.selectedItem.data;			_zoneSelect.x = 260;			_zoneSelect.y = 70;			addChild(_zoneSelect);			_zoneSelect.addEventListener("selected", zoneRegionSelected, false, 0, true);			dispatchEvent(new Event("GO_SELECTED_ZONE"));		}				private function zoneRegionSelected(e:Event):void		{			_zoneSelect.removeEventListener("selected", zoneRegionSelected);			removeZoneClip();			getZoneMap();			dispatchEvent(new Event("GO_SELECTED_COMPLEX_CARD"));		}				private function removeZoneClip():void		{			try			{				removeChild(_zoneSelect);			}catch(e:*) {}		}				private function getZoneMap():void		{			_zoneSelect = new complex_cards_region_map();			addChild(_zoneSelect);		}				public function set mustSelect(n:int):void		{			_mustSelect = n;		}	}}