package imobile.view {	import flash.display.MovieClip;	import flash.events.Event;	import imobile.controller.MenuController;	import imobile.controller.LessonsController;	import imobile.controller.OpenCloseMenu;	import imobile.view.MenuItem;		public class MainMenu extends MovieClip{		private var menuItemsX:Number = 8;		private var menuItemsY:Number = 50;				private var _status:String;		private var _control:OpenCloseMenu;		private var _openY:Number = 450;		private var _closeY:Number = 800;				public function MainMenu() {			this.y = _closeY;			_control = new OpenCloseMenu(this, _openY, _closeY);			MenuController.getInstance().addEventListener(MenuController.GOT_LESSONS, addMenuItems);		}				public function openMenu():void {			_status = OpenCloseMenu.OPENED;			_control.openMenu();		}				public function closeMenu():void {			_status = OpenCloseMenu.CLOSED;			_control.closeMenu();		}				public function addMenuItems(e:Event):void {			var mi:Array = MenuController.getInstance().getLessons();			for(var i:int = 0; i < mi.length; i++) {				addItem(i, mi[i]);			}		}				private function addItem(num:int, session:Object):void {			var mi:popupMenuItem = new popupMenuItem();			mi.x = menuItemsX;			mi.y = menuItemsY + (mi.height * num);			mi.label = session.getLabel();			mi.fileShow = session.getShowFile();			mi.fileGuide = session.getGuideFile();			mi.fileExplore = session.getExploreFile();			mi.name = "lesson" + String(num);			mi.addEventListener(MenuItem.SESSION_SELECTED, menuItemClicked, false, 0, true);			addChild(mi);		}				private function menuItemClicked(e:Event):void {			LessonsController.getInstance().getLesson(e.target);		}				private function updateHeight():void {			_control.openY = menuItemsY + (mi.height * num);		}				public function get STATUS():String {			return _status;		}	}}